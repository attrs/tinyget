/*! tinyget v0.0.7 attrs */!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Tinyget",[],t):"object"==typeof exports?exports.Tinyget=t():e.Tinyget=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0,o=r.length;o>n;n++){var i=r[n],s=i.indexOf(": ");if(s>0){var a=i.substring(0,s),f=i.substring(s+2);t[a]=f}}return t}function o(e){return{status:e.status,headers:n(e.getAllResponseHeaders()),text:e.responseText,data:e.response||e.responseXML}}var i=r(1);i.impl.connector=function(e,t){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open(e.method,e.url,!e.sync),r.withCredentials=!0,r.onload=function(){t(null,o(r))},r.onerror=function(){t(new Error("error("+r.status+"): "+e.url),o(r))},r.onabort=function(){t(new Error("aborted: "+e.url),o(r))},r.ontimeout=function(){t(new Error("timeout: "+e.url),o(r))};for(var n in e.headers)r.setRequestHeader(n,e.headers[n]);e.responseType&&(r.responseType=e.responseType),e.payload?r.send(e.payload):r.send()},i.impl.toXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")},i.impl.toDocument=function(e){return(new DOMParser).parseFromString(e,"text/html")},e.exports=i},function(e,t,r){function n(e){function t(a,f){a=a||{},"string"==typeof a&&(a={url:a});var u={url:function(e){return arguments.length?(a.url=e,this):a.url},payload:function(e){return arguments.length?(a.payload=e,this):a.payload||a.body},qry:function(e){return arguments.length?(a.qry=e,this):a.qry},hook:function(e,t){return 1===arguments.length&&e===!1?(a.hooks=!1,this):arguments.length?1===arguments.length?a.hooks&&a.hooks[e]:"string"!=typeof e?console.error("hook type must be a string:"+e):(a.hooks=a.hooks||{},a.hooks[e]=t,this):a.hooks},sync:function(e){return arguments.length?(a.sync=e,this):a.sync},contentType:function(e){return arguments.length?(a.contentType=e,this):a.contentType},responseType:function(e){return arguments.length?(a.responseType=e,this):a.responseType},type:function(e){return arguments.length?(a.type=e,this):a.type},headers:function(e){return arguments.length?~["object","function"].indexOf(typeof e)?(a.headers=e||{},this):console.error("headers must be an object or function")||this:a.headers},header:function(e,t){if(!e)return console.error("missing header name")||this;if("string"!=typeof e)return console.error("header name must be a string")||this;if(1===arguments.length)return a.headers[e];if(a.headers){if("function"==typeof a.headers)return console.error("options.headers is function")||this}else a.headers={};return null==t?delete a.headers[e]:a.headers[e]=t,this},event:function(e){return a.event=e,this},get:t.get,post:t.post,put:t.put,options:t.options,"delete":t["delete"],exec:function(f){function u(e,t,n){e?l&&r.fire("error",{options:a,response:n,data:t,error:e}):l&&r.fire("success",{options:a,response:n,data:t}),l&&r.fire("done",{options:a,response:n,error:e,data:t}),f.apply(this,arguments)}function c(t){var n=t.url,a=t.method||"get",f=t.qry,c=t.payload||t.body,d=t.headers||{},y=t.contentType,h=t.responseType,g=t.type,b=t.sync===!0;if("function"==typeof n&&(n=n()),"function"==typeof a&&(a=a()),"function"==typeof f&&(f=f()),"function"==typeof c&&(c=c()),"function"==typeof d&&(d=d()),"function"==typeof y&&(y=y()),"function"==typeof h&&(h=h()),"function"==typeof g&&(g=g()),"function"==typeof b&&(b=b()),!n)return u(new Error("missing url"));if("string"!=typeof n)return fn(new Error("url must be a string: "+typeof n));f&&("object"==typeof f&&(f=o.stringify(f)),"string"==typeof f&&(n=~n.indexOf("?")?n+"&"+f:n+"?"+f)),c&&(c instanceof FormData?c=c:y&&~y.indexOf("json")?c="object"==typeof c?JSON.stringify(c):c.toString():y||"application/x-www-form-urlencoded"!==y?y||"object"!=typeof c?y||"string"!=typeof c||(y="application/x-www-form-urlencoded"):(y="application/json",c=JSON.stringify(c)):c="object"==typeof c?o.encode(c):c.toString()),y&&(d["Content-Type"]=y);var m=e&&e.trim();!m||~n.indexOf("://")&&n.indexOf("/")>n.indexOf(":")||(~m.indexOf("://")&&m.indexOf("/")>m.indexOf(":")?("/"!==m[m.length-1]&&(m+="/"),"/"===n[0]&&(n=n.substring(1)),n=m+i.normalize(n)):n=i.join(m,n)),l&&r.fire("connect",{options:t,url:n,method:a,payload:c,headers:d,responseType:h,sync:b}),s.connector({url:n,method:a,payload:c,headers:d,responseType:h,sync:b},function(e,n){function o(e,n){if(n)try{var o,i=n.text,a=n.data,f=n.headers||{};for(var c in f)f[c.toLowerCase()]=f[c];n.headers=f;var d=f["content-type"];o=h?a:"document"===g?a&&"string"!=typeof a?a:s.toDocument(a||i):"xml"===g?a&&"string"!=typeof a?a:s.toXml(a||i):"json"===g?JSON.parse(i):"text"===g?i:d&&~d.indexOf("/xml")?a&&"string"!=typeof a?a:s.toXml(a||i):d&&~d.indexOf("/html")?a&&"string"!=typeof a?a:s.toDocument(a||i):d&&~d.indexOf("/json")?JSON.parse(i):i,l&&r.fire("load",{response:n,data:o}),(n.status<200||n.status>=300)&&(e=new Error("error "+n.status))}catch(y){e=y}p.callback({options:t,error:e,data:o,response:n},u)}l&&r.fire("response",{options:t,error:e,response:n}),p.after({options:t,error:e,response:n},o)})}if(!a)return u(new Error("missing options"));if(!s.connector)return u(new Error("connector not found"));"function"!=typeof u&&(u=function(){});var l=a.event!==!1;l&&r.fire("start",{options:a});var p={before:n.before,after:n.after,callback:n.callback};if(a.hooks!==!1){var d=a.hooks||{};p={before:d.before||t.hook("before"),after:d.after||t.hook("after"),callback:d.callback||t.hook("callback")}}return p.before===!1&&(p.before=n.before),p.after===!1&&(p.after=n.after),p.callback===!1&&(p.callback=n.callback),p.before(a,function(e,t){e&&p.callback({error:e},u),c(t)}),this}};return"function"==typeof f?u.exec(f):u}if(e=e||"","string"!=typeof e)throw new TypeError("illegal type of endpoint url:"+e);var r=function(){function e(e,t){o||(a[e]||[]).forEach(function(r){r({type:e,detail:t})})}function t(e,t){a[e]=a[e]||[],a[e].push(t)}function r(e,r){var o=function(t){return n(e,o),r(t)};t(e,o)}function n(e,t){var r=a[e];if(r)for(var n;~(n=r.indexOf(t));)r.splice(n,1)}function o(){o=!0}function i(){o=!1}function s(e){o=!e}var a={},o=!1;return{fire:e,on:t,once:r,off:n,pause:o,resume:i,active:s}}();t.endpoint=function(t){if(!arguments.length)return e;if(t===!1&&(t=""),"string"!=typeof t)throw new TypeError("illegal type of endpoint url:"+t);return e=t,this};var n={before:function(e,t){t(null,e)},after:function(e,t){t(e.error||null,e.response||null)},callback:function(e,t){t(e.error||null,e.data||null,e.response||null)}},a={before:n.before,after:n.after,callback:n.callback};return t.hook=function(e,t){if(1===arguments.length)return a[e]||n[e];if("string"!=typeof e)throw new TypeError("hook type must be a string:"+e);if("function"!=typeof t)throw new TypeError("hook fn must be a function:"+t);return a[e]=t,this},t.get=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="get",t(e).qry(r)},t.options=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="options",t(e).qry(r)},t.post=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="post",t(e).payload(r)},t.put=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="put",t(e).payload(r)},t["delete"]=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="delete",t(e).qry(r)},t.on=function(e,t){return r.on(e,t),this},t.once=function(e,t){return r.once(e,t),this},t.off=function(e,t){return r.off(e,t),this},t.event=function(e){return r.active(e),this},t}var o=r(2),i=r(6),s={},a=new n;a.Tinyget=n,a.impl=s,a.branch=function(e){return new n(e)},e.exports=a},function(e,t,r){"use strict";var n=r(3),o=r(5);e.exports={stringify:n,parse:o}},function(e,t,r){"use strict";var n=r(4),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i={delimiter:"&",strictNullHandling:!1,skipNulls:!1,encode:!0,encoder:n.encode},s=function a(e,t,r,o,i,s,f,u,c){var l=e;if("function"==typeof f)l=f(t,l);else if(l instanceof Date)l=l.toISOString();else if(null===l){if(o)return s?s(t):t;l=""}if("string"==typeof l||"number"==typeof l||"boolean"==typeof l||n.isBuffer(l))return s?[s(t)+"="+s(l)]:[t+"="+String(l)];var p=[];if("undefined"==typeof l)return p;var d;if(Array.isArray(f))d=f;else{var y=Object.keys(l);d=u?y.sort(u):y}for(var h=0;h<d.length;++h){var g=d[h];i&&null===l[g]||(p=Array.isArray(l)?p.concat(a(l[g],r(t,g),r,o,i,s,f,u,c)):p.concat(a(l[g],t+(c?"."+g:"["+g+"]"),r,o,i,s,f,u,c)))}return p};e.exports=function(e,t){var r,n,a=e,f=t||{},u="undefined"==typeof f.delimiter?i.delimiter:f.delimiter,c="boolean"==typeof f.strictNullHandling?f.strictNullHandling:i.strictNullHandling,l="boolean"==typeof f.skipNulls?f.skipNulls:i.skipNulls,p="boolean"==typeof f.encode?f.encode:i.encode,d=p?"function"==typeof f.encoder?f.encoder:i.encoder:null,y="function"==typeof f.sort?f.sort:null,h="undefined"==typeof f.allowDots?!1:f.allowDots;if(null!==f.encoder&&void 0!==f.encoder&&"function"!=typeof f.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof f.filter?(n=f.filter,a=n("",a)):Array.isArray(f.filter)&&(r=n=f.filter);var g=[];if("object"!=typeof a||null===a)return"";var b;b=f.arrayFormat in o?f.arrayFormat:"indices"in f?f.indices?"indices":"repeat":"indices";var m=o[b];r||(r=Object.keys(a)),y&&r.sort(y);for(var v=0;v<r.length;++v){var w=r[v];l&&null===a[w]||(g=g.concat(s(a[w],w,m,c,l,d,n,y,h)))}return g.join(u)}},function(e,t){"use strict";var r=function(){for(var e=new Array(256),t=0;256>t;++t)e[t]="%"+((16>t?"0":"")+t.toString(16)).toUpperCase();return e}();t.arrayToObject=function(e,t){for(var r=t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!=typeof e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,n){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];e[r]=!0}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=t.arrayToObject(e,n)),Object.keys(r).reduce(function(e,o){var i=r[o];return Object.prototype.hasOwnProperty.call(e,o)?e[o]=t.merge(e[o],i,n):e[o]=i,e},o)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&57>=i||i>=65&&90>=i||i>=97&&122>=i?n+=t.charAt(o):128>i?n+=r[i]:2048>i?n+=r[192|i>>6]+r[128|63&i]:55296>i||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},t.compact=function(e,r){if("object"!=typeof e||null===e)return e;var n=r||[],o=n.indexOf(e);if(-1!==o)return n[o];if(n.push(e),Array.isArray(e)){for(var i=[],s=0;s<e.length;++s)e[s]&&"object"==typeof e[s]?i.push(t.compact(e[s],n)):"undefined"!=typeof e[s]&&i.push(e[s]);return i}for(var a=Object.keys(e),f=0;f<a.length;++f){var u=a[f];e[u]=t.compact(e[u],n)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=r(4),o={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,decoder:n.decode},i=function(e,t){for(var r={},n=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0;o<n.length;++o){var i=n[o],s=-1===i.indexOf("]=")?i.indexOf("="):i.indexOf("]=")+1;if(-1===s)r[t.decoder(i)]="",t.strictNullHandling&&(r[t.decoder(i)]=null);else{var a=t.decoder(i.slice(0,s)),f=t.decoder(i.slice(s+1));Object.prototype.hasOwnProperty.call(r,a)?r[a]=[].concat(r[a]).concat(f):r[a]=f}}return r},s=function f(e,t,r){if(!e.length)return t;var n,o=e.shift();if("[]"===o)n=[],n=n.concat(f(e,t,r));else{n=r.plainObjects?Object.create(null):{};var i="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,s=parseInt(i,10);!isNaN(s)&&o!==i&&String(s)===i&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(n=[],n[s]=f(e,t,r)):n[i]=f(e,t,r)}return n},a=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^\.\[]+)/g,"[$1]"):e,o=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,a=o.exec(n),f=[];if(a[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(a[1])&&!r.allowPrototypes)return;f.push(a[1])}for(var u=0;null!==(a=i.exec(n))&&u<r.depth;)u+=1,(r.plainObjects||!Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&f.push(a[1]);return a&&f.push("["+n.slice(a.index)+"]"),s(f,t,r)}};e.exports=function(e,t){var r=t||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=r.parseArrays!==!1,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||"undefined"==typeof e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?i(e,r):e,f=r.plainObjects?Object.create(null):{},u=Object.keys(s),c=0;c<u.length;++c){var l=u[c],p=a(l,s[l],r);f=n.merge(f,p,r)}return n.compact(f)}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,o="/"===s.charAt(0))}return t=r(n(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===s(e,-1);return e=r(n(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,f=0;s>f;f++)if(o[f]!==i[f]){a=f;break}for(var u=[],f=a;f<o.length;f++)u.push("..");return u=u.concat(i.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return 0>t&&(t=e.length+t),e.substr(t,r)}}).call(t,r(7))},function(e,t){function r(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&n())}function n(){if(!l){var e=s(r);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,a(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var s,a,f=e.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var u,c=[],l=!1,p=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new o(e,t)),1!==c.length||l||s(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=i,f.addListener=i,f.once=i,f.off=i,f.removeListener=i,f.removeAllListeners=i,f.emit=i,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}])});