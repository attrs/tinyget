/*! tinyget v0.0.3 attrs */!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Tinyget",[],t):"object"==typeof exports?exports.Tinyget=t():e.Tinyget=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0,o=r.length;o>n;n++){var i=r[n],u=i.indexOf(": ");if(u>0){var s=i.substring(0,u),f=i.substring(u+2);t[s]=f}}return t}function o(e){return{status:e.status,headers:n(e.getAllResponseHeaders()),text:e.responseText,data:e.response||e.responseXML}}var i=r(1);i.impl.connector=function(e,t){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open(e.method,e.url,!e.sync),r.onload=function(){t(null,o(r))},r.onerror=function(){t(new Error("error("+r.status+"): "+e.url),o(r))},r.onabort=function(){t(new Error("aborted: "+e.url),o(r))},r.ontimeout=function(){t(new Error("timeout: "+e.url),o(r))};for(var n in e.headers)r.setRequestHeader(n,e.headers[n]);e.responseType&&(r.responseType=e.responseType),e.payload?r.send(e.payload):r.send()},i.impl.toXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")},i.impl.toDocument=function(e){return(new DOMParser).parseFromString(e,"text/html")},e.exports=i},function(e,t,r){function n(e){function t(n,s){n=n||{},"string"==typeof n&&(n={url:n});var f=function(){function e(e,t){(o[e]||[]).forEach(function(r){r({type:e,detail:t})})}function t(e,t){o[e]=o[e]||[],o[e].push(t)}function r(e,r){var o=function(t){return n(e,o),r(t)};t(e,o)}function n(e,t){var r=o[e];if(r)for(var n;~(n=r.indexOf(t));)r.splice(n,1)}var o={};return{fire:e,on:t,once:r,off:n}}(),c={url:function(e){return arguments.length?(n.url=e,this):n.url},payload:function(e){return arguments.length?(n.payload=e,this):n.payload||n.body},qry:function(e){return arguments.length?(n.qry=e,this):n.qry},sync:function(e){return arguments.length?(n.sync=e,this):n.sync},contentType:function(e){return arguments.length?(n.contentType=e,this):n.contentType},responseType:function(e){return arguments.length?(n.responseType=e,this):n.responseType},type:function(e){return arguments.length?(n.type=e,this):n.type},headers:function(e){return arguments.length?~["object","function"].indexOf(typeof e)?(n.headers=e||{},this):console.error("headers must be an object or function")||this:n.headers},header:function(e,t){if(!e)return console.error("missing header name")||this;if("string"!=typeof e)return console.error("header name must be a string")||this;if(1===arguments.length)return n.headers[e];if(n.headers){if("function"==typeof n.headers)return console.error("options.headers is function")||this}else n.headers={};return null==t?delete n.headers[e]:n.headers[e]=t,this},on:function(e,t){return f.on(e,t),this},once:function(e,t){return f.once(e,t),this},off:function(e,t){return f.off(e,t),this},get:t.get,post:t.post,put:t.put,options:t.options,"delete":t["delete"],exec:function(t){if(arguments.length||(n.sync=!0),"function"!=typeof t&&(t=function(){}),!n)return t(new Error("missing options"));if(!u.connector)return t(new Error("connector not found"));"function"==typeof r.before&&(n=r.before(n)||n);var s=n.url,c=n.method||"get",a=n.qry,l=n.payload||n.body,p=n.headers||{},d=n.contentType,y=n.responseType,h=n.type,g=n.sync===!0;if("function"==typeof s&&(s=s()),"function"==typeof c&&(c=c()),"function"==typeof a&&(a=a()),"function"==typeof l&&(l=l()),"function"==typeof p&&(p=p()),"function"==typeof d&&(d=d()),"function"==typeof y&&(y=y()),"function"==typeof h&&(h=h()),"function"==typeof g&&(g=g()),!s)return t(new Error("missing url"));if("string"!=typeof s)return fn(new Error("url must be a string: "+typeof s));a&&("object"==typeof a&&(a=o.stringify(a)),"string"==typeof a&&(s=~s.indexOf("?")?s+"&"+a:s+"?"+a)),l&&(d&&~d.indexOf("json")?l="object"==typeof l?JSON.stringify(l):l.toString():d||"application/x-www-form-urlencoded"!==d?d||"object"!=typeof l?d||"string"!=typeof l||(d="application/x-www-form-urlencoded"):(d="application/json",l=JSON.stringify(l)):l="object"==typeof l?o.encode(l):l.toString()),d&&(p["Content-Type"]=d);var m=e&&e.trim();!m||~s.indexOf("://")&&s.indexOf("/")>s.indexOf(":")||(~m.indexOf("://")&&m.indexOf("/")>m.indexOf(":")?("/"!==m[m.length-1]&&(m+="/"),"/"===s[0]&&(s=s.substring(1)),s=m+i.normalize(s)):s=i.join(m,s));var b,v;if(u.connector({url:s,method:c,payload:l,headers:p,responseType:y,sync:g},function(e,n){function o(e,n){if(n)try{var o,i=n.text,s=n.data,c=n.headers||{};for(var a in c)c[a.toLowerCase()]=c[a];n.headers=c;var l=c["content-type"];o=y?s:"document"===h?s&&"string"!=typeof s?s:u.toDocument(s||i):"xml"===h?s&&"string"!=typeof s?s:u.toXml(s||i):"json"===h?JSON.parse(i):"text"===h?i:l&&~l.indexOf("/xml")?s&&"string"!=typeof s?s:u.toXml(s||i):l&&~l.indexOf("/html")?s&&"string"!=typeof s?s:u.toDocument(s||i):l&&~l.indexOf("/json")?JSON.parse(i):i,f.fire("load",{response:n,data:o}),(n.status<200||n.status>=300)&&(e=new Error("error "+n.status))}catch(p){e=p}e&&f.fire("error",{response:n,error:e}),v=e,b=o,"function"==typeof r.callback?r.callback(t,e,o,n):t(e||null,o||null,n||null)}"function"==typeof r.after?r.after(o,e,n):o(e,n)}),!arguments.length){if(v)throw v;return b}return this}};return"function"==typeof s?c.exec(s):c}if(e=e||"","string"!=typeof e)throw new TypeError("illegal type of endpoint url:"+e);t.endpoint=function(t){if(!arguments.length)return e;if(t===!1&&(t=""),"string"!=typeof t)throw new TypeError("illegal type of endpoint url:"+t);return e=t,this};var r=t.hooks={callback:function(e,t,r,n){e(t||null,r||null,n||null)}};return t.get=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="get",t(e).qry(r)},t.options=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="options",t(e).qry(r)},t.post=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="post",t(e).payload(r)},t.put=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="put",t(e).payload(r)},t["delete"]=function(e,r){return"string"==typeof e&&(e={url:e}),e=e||{},e.method="delete",t(e).qry(r)},t}var o=r(2),i=r(6),u={},s=new n;s.Tinyget=n,s.impl=u,s.endpoint=function(e){return new n(e)},e.exports=s},function(e,t,r){"use strict";var n=r(3),o=r(5);e.exports={stringify:n,parse:o}},function(e,t,r){"use strict";var n=r(4),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i={delimiter:"&",strictNullHandling:!1,skipNulls:!1,encode:!0,encoder:n.encode},u=function s(e,t,r,o,i,u,f,c,a){var l=e;if("function"==typeof f)l=f(t,l);else if(l instanceof Date)l=l.toISOString();else if(null===l){if(o)return u?u(t):t;l=""}if("string"==typeof l||"number"==typeof l||"boolean"==typeof l||n.isBuffer(l))return u?[u(t)+"="+u(l)]:[t+"="+String(l)];var p=[];if("undefined"==typeof l)return p;var d;if(Array.isArray(f))d=f;else{var y=Object.keys(l);d=c?y.sort(c):y}for(var h=0;h<d.length;++h){var g=d[h];i&&null===l[g]||(p=Array.isArray(l)?p.concat(s(l[g],r(t,g),r,o,i,u,f,c,a)):p.concat(s(l[g],t+(a?"."+g:"["+g+"]"),r,o,i,u,f,c,a)))}return p};e.exports=function(e,t){var r,n,s=e,f=t||{},c="undefined"==typeof f.delimiter?i.delimiter:f.delimiter,a="boolean"==typeof f.strictNullHandling?f.strictNullHandling:i.strictNullHandling,l="boolean"==typeof f.skipNulls?f.skipNulls:i.skipNulls,p="boolean"==typeof f.encode?f.encode:i.encode,d=p?"function"==typeof f.encoder?f.encoder:i.encoder:null,y="function"==typeof f.sort?f.sort:null,h="undefined"==typeof f.allowDots?!1:f.allowDots;if(null!==f.encoder&&void 0!==f.encoder&&"function"!=typeof f.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof f.filter?(n=f.filter,s=n("",s)):Array.isArray(f.filter)&&(r=n=f.filter);var g=[];if("object"!=typeof s||null===s)return"";var m;m=f.arrayFormat in o?f.arrayFormat:"indices"in f?f.indices?"indices":"repeat":"indices";var b=o[m];r||(r=Object.keys(s)),y&&r.sort(y);for(var v=0;v<r.length;++v){var w=r[v];l&&null===s[w]||(g=g.concat(u(s[w],w,b,a,l,d,n,y,h)))}return g.join(c)}},function(e,t){"use strict";var r=function(){for(var e=new Array(256),t=0;256>t;++t)e[t]="%"+((16>t?"0":"")+t.toString(16)).toUpperCase();return e}();t.arrayToObject=function(e,t){for(var r=t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!=typeof e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,n){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];e[r]=!0}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=t.arrayToObject(e,n)),Object.keys(r).reduce(function(e,o){var i=r[o];return Object.prototype.hasOwnProperty.call(e,o)?e[o]=t.merge(e[o],i,n):e[o]=i,e},o)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&57>=i||i>=65&&90>=i||i>=97&&122>=i?n+=t.charAt(o):128>i?n+=r[i]:2048>i?n+=r[192|i>>6]+r[128|63&i]:55296>i||i>=57344?n+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),n+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return n},t.compact=function(e,r){if("object"!=typeof e||null===e)return e;var n=r||[],o=n.indexOf(e);if(-1!==o)return n[o];if(n.push(e),Array.isArray(e)){for(var i=[],u=0;u<e.length;++u)e[u]&&"object"==typeof e[u]?i.push(t.compact(e[u],n)):"undefined"!=typeof e[u]&&i.push(e[u]);return i}for(var s=Object.keys(e),f=0;f<s.length;++f){var c=s[f];e[c]=t.compact(e[c],n)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=r(4),o={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,decoder:n.decode},i=function(e,t){for(var r={},n=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0;o<n.length;++o){var i=n[o],u=-1===i.indexOf("]=")?i.indexOf("="):i.indexOf("]=")+1;if(-1===u)r[t.decoder(i)]="",t.strictNullHandling&&(r[t.decoder(i)]=null);else{var s=t.decoder(i.slice(0,u)),f=t.decoder(i.slice(u+1));Object.prototype.hasOwnProperty.call(r,s)?r[s]=[].concat(r[s]).concat(f):r[s]=f}}return r},u=function f(e,t,r){if(!e.length)return t;var n,o=e.shift();if("[]"===o)n=[],n=n.concat(f(e,t,r));else{n=r.plainObjects?Object.create(null):{};var i="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,u=parseInt(i,10);!isNaN(u)&&o!==i&&String(u)===i&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(n=[],n[u]=f(e,t,r)):n[i]=f(e,t,r)}return n},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^\.\[]+)/g,"[$1]"):e,o=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,s=o.exec(n),f=[];if(s[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(s[1])&&!r.allowPrototypes)return;f.push(s[1])}for(var c=0;null!==(s=i.exec(n))&&c<r.depth;)c+=1,(r.plainObjects||!Object.prototype.hasOwnProperty(s[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&f.push(s[1]);return s&&f.push("["+n.slice(s.index)+"]"),u(f,t,r)}};e.exports=function(e,t){var r=t||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=r.parseArrays!==!1,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||"undefined"==typeof e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?i(e,r):e,f=r.plainObjects?Object.create(null):{},c=Object.keys(u),a=0;a<c.length;++a){var l=c[a],p=s(l,u[l],r);f=n.merge(f,p,r)}return n.compact(f)}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(t=u+"/"+t,o="/"===u.charAt(0))}return t=r(n(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===u(e,-1);return e=r(n(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),u=Math.min(o.length,i.length),s=u,f=0;u>f;f++)if(o[f]!==i[f]){s=f;break}for(var c=[],f=s;f<o.length;f++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return i(e)[3]};var u="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return 0>t&&(t=e.length+t),e.substr(t,r)}}).call(t,r(7))},function(e,t){function r(){l&&c&&(l=!1,c.length?a=c.concat(a):p=-1,a.length&&n())}function n(){if(!l){var e=u(r);l=!0;for(var t=a.length;t;){for(c=a,a=[];++p<t;)c&&c[p].run();p=-1,t=a.length}c=null,l=!1,s(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var u,s,f=e.exports={};!function(){try{u=setTimeout}catch(e){u=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(e){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,a=[],l=!1,p=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new o(e,t)),1!==a.length||l||u(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=i,f.addListener=i,f.once=i,f.off=i,f.removeListener=i,f.removeAllListeners=i,f.emit=i,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}])});